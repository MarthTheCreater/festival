@page "/fetchdata"
@using Festival.Shared.Models



@inject HttpClient Http

<h1>Weather forecast</h1>

<p>This component demonstrates fetching data from the server.</p>

@if (vagterne == null)
{
    <p><em>Loading...</em></p>
}
else
{
<table class="table">
    <thead>
        <tr>
            
                <th>@mandag</th>
                <th>tirsdag</th>
                <th>onsdag</th>
           

            </tr>
        
        
        </thead>
    <tbody>
        <tr>
            @foreach (var vagter in vagterne)
            {
                {

                    <td style="padding: 10px; border: 3px solid ">
                        @vagter.dag<br />
                        @vagter.starttidspunkt<br />
                        @vagter.sluttidspunkt<br />

                    </td>

                }

            }
        </tr>
        </tbody>
    </table>
}

@code {

    public string mandag = "mandag";

    @*public string dag(string mandag)
    {
        foreach (var vagt in vagterne)
        {
            if (mandag == vagt.dag)
            {
                return ;
            }
        }
    }*@


    public Bruger[] brugere;
    public Vagter[] vagterne;
    public Dage[] dagene;
    public Frivillige[] defrivillige;
    public Koordinator[] koordinators;
    public Hold[] holdene;



    @*public async Task fedliste()
    {
      foreach (var vagter in vagterne)
        {

    <tr>

    <td style="padding: 10px; border: 3px solid ">
        vagter.beskrivelse<br />
        vagter.starttidspunkt<br />
        vagter.sluttidspunkt<br />
        vagter.kap<br />
        vagter.ledig<br />
    </td>


    </tr>

        }
    }*@

    @*public object LedigVagt(object[] args)
        {
            foreach (var vagte in vagterne)
                 {
                    if (vagte.dag == mandag)
                    {
                        return vagterne.ToList();
                    }
                }
        }*@

protected override async Task OnInitializedAsync()
{
    vagterne = await Http.GetFromJsonAsync<Vagter[]>("Vagter");
}

}
